// A wrapper around res.send that sends
// 200 if there is content and 204 if there
// is none.
// 
// Uses guard, which sends error codes back
// to the client if the calling function
// has an error.

var errors = require('circle-blvd/errors');
var guard = errors.guard;

module.exports = function (res) {
    var fn = guard(res, function (data) {
        if (!data) {
            return res.status(204).send(); // no content
        }
        res.status(200).send(data);
    }); 
    return fn;
};